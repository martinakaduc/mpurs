<!DOCTYPE HTML>
<html lang="vi">
<head>
  <title>MPURS</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="//code.jquery.com/jquery-2.1.4.min.js"></script>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.slim.js"></script>
  <script type="text/javascript" charset="utf-8">
    $(document).ready(function(){
      namespace = '/home';
      var socket = io.connect('http://' + document.domain + ':' + location.port + namespace);
      var subjects = ['math', 'literature', 'english', 'physics', 'chemistry', 'biology', 'history', 'geography', 'civiceducation'];
      var numberOfYear = 3
      socket.on('timeElapsed', function(msg) {
        $('#timeElapsed').empty();
        $('#timeElapsed').append('Time Elapsed: ' + msg.data);
      });
      socket.on('markPrediction', function(msg) {
        var markPrediction = msg.data.slice(1, -1).split(',');
        for (var i = 0; i < subjects.length; i++) {
          $('#' + subjects[i]).empty();
          $('#' + subjects[i]).append(markPrediction[i]);
        }
      });
      $('#submitButton').click(function(event) {
        var markSubmit = []
        markSubmit.push($("input[name='subCom']:checked").val())
        for (var i = 0; i < numberOfYear; i++) {
          for (var k = 0; k < subjects.length; k++) {
            markSubmit.push(document.getElementsByName(subjects[k] + i)[0].value);
          };
        };
        socket.emit('calMark', markSubmit);
        return 0;
      });
      var subCom = document.getElementsByName("subCom");
      for (var i = 0; i < subCom.length; i++) {
        subCom[i].onclick = function(event) {
            // document.write(event.target.value);
            if (event.target.value == "nature") {
              var readOnlySubject =  subjects.slice(6, 9);
            } else if (event.target.value == "social") {
              var readOnlySubject = subjects.slice(3, 6);
            };
            var requiredSubject = $(subjects).not(readOnlySubject).get();
            for (var i = 0; i < numberOfYear; i++) {
              for (var k = 0; k < readOnlySubject.length; k++) {
                document.getElementsByName(readOnlySubject[k] + i)[0].readOnly = true;
              };
              for (var l = 0; l < requiredSubject.length; l++) {
                document.getElementsByName(requiredSubject[l] + i)[0].readOnly = false;
              };
            };
        };
      };
      subCom[0].click();
    });
  </script>
</head>
<style>
  .slogan {
      line-height:1;
      top: 0px; /* Changes the space between the logo and the slogan */
      font-size: 1em; /* Changes the font size of the slogan */
      font-style: italic; /* Changes the font style of the slogan */
      color:#222222; /* Changes the color of the slogan */
      letter-spacing:0px; /* Changes the letter spacing of the slogan */
      left: 200px;
  }
  div {
    display: inline;
  }
</style>
<body>
  <h1 align = center>MPURS</h1>
  <p class="slogan" align = center>Mark Prediction and University Recommendation System</p>
  <div id  = 'timeElapsed' align = "center"></div>
  <h3>Điểm nhập vào</h3>
    <input type="radio" name="subCom" value="nature" checked> KHỐI: MÔN TỰ NHIÊN
    <input type="radio" name="subCom" value="social"> KHỐI: MÔN XÃ HÔI <br>
    Chú ý: Vui lòng nhập điểm trung bình các môn (lớp 10, 11, 12)
    <br>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Toán:</div>
          <div>
              <input type="number" name="math0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="math1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="math2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Ngữ văn:</div>
          <div>
              <input type="number" name="literature0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="literature1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="literature2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Ngoại ngữ:</div>
          <div>
              <input type="number" name="english0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="english1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="english2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
       </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Vật lý: </div>
          <div>
              <input type="number" name="physics0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="physics1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="physics2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Hóa học:</div>
          <div>
              <input type="number" name="chemistry0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="chemistry1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="chemistry2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Sinh học:</div>
          <div>
              <input type="number" name="biology0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="biology1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="biology2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Lịch sử:</div>
          <div>
              <input type="number" name="history0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="history1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="history2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">Địa lý:</div>
          <div>
              <input type="number" name="geography0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="geography1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="geography2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
      <div>
          <div style="width: 110px; color: red; float:left; background-color:yellow">GDCD:</div>
          <div>
              <input type="number" name="civiceducation0" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="civiceducation1" min="0" max="10" step="0.1" value="0" required="True">
              <input type="number" name="civiceducation2" min="0" max="10" step="0.1" value="0" required="True"><br>
          </div>
      </div>
  <button id = "submitButton">Dự đoán</button>
  <br>
  <h3>Điểm dự đoán</h3>
  Toán:
  <div id="math"></div>
  | Ngữ văn:
  <div id="literature"></div>
  | Ngoại ngữ:
  <div id="english"></div>
  | Vật lý:
  <div id="physics"></div>
  | Hóa học:
  <div id="chemistry"></div>
  | Sinh học:
  <div id="biology"></div>
  | Lịch sử:
  <div id="history"></div>
  | Địa lý:
  <div id="geography"></div>
  | GDCD:
  <div id="civiceducation"></div>
</body>
